<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Water Use Insights</title>
  <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }

    header {
      background: #0078D7;
      color: white;
      padding: 1em;
      text-align: center;
    }

    nav {
      display: flex;
      justify-content: space-around;
      background: #005bb5;
      padding: 0.5em;
    }

    nav a {
      color: white;
      text-decoration: none;
      padding: 0.5em 1em;
      border-radius: 5px;
      transition: background 0.3s;
    }

    nav a:hover {
      background: #003f7f;
    }

    main {
      padding: 2em;
    }

    .filter-container {
      display: flex;
      justify-content: space-around;
      margin-bottom: 2em;
    }

    .filter-container select {
      padding: 0.5em;
      font-size: 1em;
    }

    .chart-container {
      width: 80%;
      margin: auto;
    }

    footer {
      background: #005bb5;
      color: white;
      text-align: center;
      padding: 1em;
      margin-top: 2em;
    }
  </style>
</head>
<body>
  <header>
    <h1>Water Use Insights</h1>
    <p>Explore water data and insights across the globe</p>
  </header>
  <nav>
    <a href="#story">Story of Water</a>
    <a href="#charts">Interactive Charts</a>
    <a href="#about">About Us</a>
  </nav>
  <main>
    <!-- Filter Section -->
    <div id="filters" class="filter-container">
      <select id="country-filter">
        <option value="" disabled selected>Select a Country</option>
        <!-- Country options will be populated dynamically -->
      </select>
      <select id="year-filter">
        <option value="" disabled selected>Select a Year</option>
        <!-- Year options will be populated dynamically -->
      </select>
      <select id="sector-filter">
        <option value="" disabled selected>Select a Sector</option>
        <option value="Agriculture">Agriculture</option>
        <option value="Industry">Industry</option>
        <option value="Municipal">Municipal</option>
      </select>
    </div>

    <!-- Chart Section -->
    <div id="charts" class="chart-container">
      <div id="chart"></div>
    </div>

    <!-- Story Section -->
    <section id="story">
      <h2>The Story of Water</h2>
      <p>Learn about water's journey through countries and its impact on people and ecosystems.</p>
      <p>Available in various forms, consumed by different sectors, and flowing between nations.</p>
    </section>
  </main>
  <footer>
    <p>Developed by Blue Asteroid | University of Hawaii at Manoa</p>
  </footer>

  <script>
    // Sample data for the chart
    const data = [
      {
        x: ['Agriculture', 'Industry', 'Municipal'],
        y: [40, 30, 20],
        type: 'bar',
        name: 'Water Use (Example)'
      }
    ];

    const layout = {
      title: 'Water Use by Sector',
      plot_bgcolor: '#ffffff',
      paper_bgcolor: '#f4f4f4'
    };

    // Initialize chart
    Plotly.newPlot('chart', data, layout);

    // Populate filters dynamically (example data)
    const countries = ['USA', 'India', 'Brazil', 'Germany'];
    const years = ['2020', '2021', '2022'];

    const countryFilter = document.getElementById('country-filter');
    const yearFilter = document.getElementById('year-filter');

    countries.forEach(country => {
      const option = document.createElement('option');
      option.value = country;
      option.textContent = country;
      countryFilter.appendChild(option);
    });

    years.forEach(year => {
      const option = document.createElement('option');
      option.value = year;
      option.textContent = year;
      yearFilter.appendChild(option);
    });

    // Event listeners for filters (to update chart dynamically)
    document.querySelectorAll('select').forEach(select => {
      select.addEventListener('change', () => {
        console.log('Filter changed:', select.id, select.value);
        // Logic to fetch and update chart based on selected filters
      });
    });
  </script>
</body>
</html>
